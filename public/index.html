<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard Cassino - Depósito</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 500px; margin: 20px auto; }
    #dashboard { padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
    #wallet { background: #f9f9f9; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
    input[type="number"] { width: 100%; padding: 8px; margin-bottom: 10px; }
    button { padding: 10px 15px; cursor: pointer; }
    #history { margin-top: 20px; }
    #history ul { list-style: none; padding-left: 0; }
    #history li { background: #eee; margin-bottom: 5px; padding: 8px; border-radius: 3px; }
  </style>
</head>
<body>

  <div id="dashboard">
    <h2>Bem-vindo, <span id="userDisplay"></span>!</h2>

    <div id="wallet">
      <h3>Carteira para Depósito</h3>
      <p>Saldo disponível: R$ <span id="balance">0,00</span></p>
      <input type="number" id="depositAmount" placeholder="Valor para depósito (R$)" min="0.01" step="0.01" />
      <button onclick="makeDeposit()">Depositar</button>
    </div>

    <div id="history">
      <h3>Histórico de Depósitos</h3>
      <ul id="depositList"></ul>
    </div>

    <button onclick="logout()">Sair</button>
  </div>

  <script>
    const user = "usuarioTeste"; // Simulação: usuário logado
    let balance = 0;
    let deposits = [];

    function formatCurrency(value) {
      return value.toFixed(2).replace('.', ',');
    }

    function loadData() {
      const savedBalance = localStorage.getItem(user + '_balance');
      const savedDeposits = localStorage.getItem(user + '_deposits');

      balance = savedBalance ? parseFloat(savedBalance) : 0;
      deposits = savedDeposits ? JSON.parse(savedDeposits) : [];

      document.getElementById('userDisplay').textContent = user;
      updateBalanceDisplay();
      updateDepositHistory();
    }

    function updateBalanceDisplay() {
      document.getElementById('balance').textContent = formatCurrency(balance);
    }

    function updateDepositHistory() {
      const list = document.getElementById('depositList');
      list.innerHTML = '';
      if (deposits.length === 0) {
        list.innerHTML = '<li>Nenhum depósito realizado.</li>';
        return;
      }
      deposits.forEach(dep => {
        const li = document.createElement('li');
        li.textContent = `R$ ${formatCurrency(dep.amount)} - ${new Date(dep.date).toLocaleString()}`;
        list.appendChild(li);
      });
    }

    function makeDeposit() {
      const input = document.getElementById('depositAmount');
      const amount = parseFloat(input.value);
      if (isNaN(amount) || amount <= 0) {
        alert('Informe um valor válido para depósito.');
        return;
      }
      balance += amount;
      deposits.push({ amount, date: new Date().toISOString() });
      localStorage.setItem(user + '_balance', balance.toString());
      localStorage.setItem(user + '_deposits', JSON.stringify(deposits));
      updateBalanceDisplay();
      updateDepositHistory();
      input.value = '';
      alert('Depósito realizado com sucesso!');
    }

    function logout() {
      alert('Você saiu da sua conta.');
      // Para simulação, só recarrega a página
      location.reload();
    }

    // Inicializa dados na carga da página
    window.onload = loadData;
  </script>

</body>
</html>


