<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Plataforma de Cassino</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 450px;
      margin: 40px auto;
      padding: 20px;
      background: #f7f7f7;
    }
    .hidden { display: none; }
    h2 { text-align: center; }
    input, button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      box-sizing: border-box;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover { background: #0056b3; }
    #wallet {
      background: #e9ecef;
      padding: 15px;
      text-align: center;
      border-radius: 5px;
      margin-bottom: 15px;
    }
    .double-btn {
      width: 48%;
      display: inline-block;
    }
    #message { text-align: center; color: green; }
  </style>
</head>
<body>

<!-- Login -->
<div id="auth">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Usuário">
  <input type="password" id="password" placeholder="Senha">
  <button onclick="login()">Entrar</button>
  <button onclick="showSignup()">Cadastrar</button>
</div>

<!-- Cadastro -->
<div id="signup" class="hidden">
  <h2>Cadastro</h2>
  <input type="text" id="newUsername" placeholder="Usuário">
  <input type="password" id="newPassword" placeholder="Senha">
  <button onclick="signup()">Cadastrar</button>
  <button onclick="showLogin()">Voltar ao Login</button>
</div>

<!-- Dashboard -->
<div id="dashboard" class="hidden">
  <h2>Bem-vindo, <span id="userDisplay"></span>!</h2>
  <div id="wallet">
    Saldo: R$ <span id="balance">0,00</span>
  </div>

  <input type="number" id="depositAmount" placeholder="Valor para depósito">
  <button onclick="makeDeposit()">Depositar</button>

  <input type="number" id="withdrawAmount" placeholder="Valor para saque">
  <button onclick="makeWithdraw()">Sacar</button>

  <div id="message"></div>

  <button onclick="showSlots()">Ir para os Slots</button>
  <button onclick="logout()" style="background: #dc3545;">Sair</button>
</div>

<!-- Tela de Slots -->
<div id="slots" class="hidden">
  <h2>Máquinas de Slots</h2>
  <p>Aqui vai o seu conteúdo dos slots (pode ser imagem, animação, etc).</p>
  <button onclick="showDashboard()">Voltar para a Dashboard</button>
</div>

<script>
  function showSignup() {
    document.getElementById('auth').classList.add('hidden');
    document.getElementById('signup').classList.remove('hidden');
  }

  function showLogin() {
    document.getElementById('signup').classList.add('hidden');
    document.getElementById('auth').classList.remove('hidden');
  }

  function login() {
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();
    const storedPassword = localStorage.getItem('user_' + username);
    if (storedPassword === password) {
      localStorage.setItem('loggedInUser', username);
      showDashboard();
    } else {
      alert('Usuário ou senha incorretos!');
    }
  }

  function signup() {
    const username = document.getElementById('newUsername').value.trim();
    const password = document.getElementById('newPassword').value.trim();
    if (localStorage.getItem('user_' + username)) {
      alert('Usuário já existe!');
      return;
    }
    localStorage.setItem('user_' + username, password);
    alert('Cadastro feito! Faça login.');
    showLogin();
  }

  function logout() {
    localStorage.removeItem('loggedInUser');
    showLogin();
    document.getElementById('dashboard').classList.add('hidden');
    document.getElementById('slots').classList.add('hidden');
  }

  function showDashboard() {
    const user = localStorage.getItem('loggedInUser');
    if (!user) {
      showLogin();
      return;
    }
    document.getElementById('userDisplay').textContent = user;
    document.getElementById('auth').classList.add('hidden');
    document.getElementById('signup').classList.add('hidden');
    document.getElementById('slots').classList.add('hidden');
    document.getElementById('dashboard').classList.remove('hidden');
    loadBalance();
  }

  function showSlots() {
    document.getElementById('dashboard').classList.add('hidden');
    document.getElementById('slots').classList.remove('hidden');
  }

  function getBalanceKey() {
    return 'balance_' + localStorage.getItem('loggedInUser');
  }

  function loadBalance() {
    const balance = parseFloat(localStorage.getItem(getBalanceKey())) || 0;
    document.getElementById('balance').textContent = balance.toFixed(2).replace('.', ',');
  }

  function setBalance(value) {
    localStorage.setItem(getBalanceKey(), value.toString());
    document.getElementById('balance').textContent = value.toFixed(2).replace('.', ',');
  }

  function makeDeposit() {
    const amount = parseFloat(document.getElementById('depositAmount').value);
    if (isNaN(amount) || amount <= 0) {
      showMessage('Valor inválido para depósito.', true);
      return;
    }
    const balance = parseFloat(localStorage.getItem(getBalanceKey())) || 0;
    setBalance(balance + amount);
    showMessage('Depósito realizado com sucesso!');
    document.getElementById('depositAmount').value = '';
  }

  function makeWithdraw() {
    const amount = parseFloat(document.getElementById('withdrawAmount').value);
    if (isNaN(amount) || amount <= 0) {
      showMessage('Valor inválido para saque.', true);
      return;
    }
    const balance = parseFloat(localStorage.getItem(getBalanceKey())) || 0;
    if (amount > balance) {
      showMessage('Saldo insuficiente.', true);
      return;
    }
    setBalance(balance - amount);
    showMessage('Saque realizado com sucesso!');
    document.getElementById('withdrawAmount').value = '';
  }

  function showMessage(text, error = false) {
    const msg = document.getElementById('message');
    msg.style.color = error ? 'red' : 'green';
    msg.textContent = text;
    setTimeout(() => { msg.textContent = ''; }, 3000);
  }

  // Auto-login se estiver logado
  window.onload = () => {
    if (localStorage.getItem('loggedInUser')) {
      showDashboard();
    }
  };
</script>

</body>
</html>



